var Se=Object.defineProperty;var ke=(l,n,a)=>n in l?Se(l,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[n]=a;var q=(l,n,a)=>(ke(l,typeof n!="symbol"?n+"":n,a),a);import{j as e,r as g,a as De}from"./react-hB3Ou3NF.js";import{c as Ne}from"./react-dom-wQSkHF3l.js";import{c as Te,s as Ie,S as Ae,T as z,B as Me,a as x,b as he,d as w,e as G,F as A,f as O,I as v,g as E,M,R as _,h as N,i as T,j as Pe,C as Le,k as Oe,l as B,H as Fe,m as Be,n as Re,o as Ee,p as Ge,W as We,q as $e,r as _e,D as ze,L as Ue,t as Je,u as Ke,v as Ve}from"./@mui-QtY9RHfb.js";import{v as me}from"./uuid-yQnnJER4.js";import{I as He}from"./imagekit-YRDfKv76.js";import{u as qe,a as Ye,b as R}from"./react-router-ZZiVF6n8.js";import{B as Qe}from"./react-router-dom-WeR5w6zC.js";import"./axios-EX0fqbh0.js";import"./scheduler-iwWdm5Ml.js";import"./react-is-T_4AIkBo.js";import"./@babel-R4VyUtW_.js";import"./@emotion-gzY3ByDd.js";import"./hoist-non-react-statics-ruMgn741.js";import"./stylis-UTZzoVRx.js";import"./clsx-Zbgk8kpT.js";import"./react-transition-group-Ep4Y6pAF.js";import"./lodash-JtCSlzz8.js";import"./hamming-distance-0EgvUo0x.js";import"./form-data-QPNVk4j9.js";import"./@remix-run-w2aNq8l3.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}})();const Xe={none:{primary:"#696969",secondary:"#696969"},alpine:{primary:"#32ab64",secondary:"#5a9e76"},ocean:{primary:"#4852c7",secondary:"#364c87"},desert:{primary:"#b6bd5e",secondary:"#a1a662"},lavender:{primary:"#a33abd",secondary:"#993eb0"}},Ze=["none","alpine","ocean","desert","lavender"];let se,ee="none";class et{constructor(){q(this,"themesList",Ze);if(se)throw new Error("You can only create one instance!");se=this}getInstance(){return this}getCurrentThemeData(){return Xe[ee]}setThemeId(n){ee=n}getThemeId(){return ee}}const m=Object.freeze(new et),p={main:{primary:m.getCurrentThemeData().primary,2:m.getCurrentThemeData().primary,1:m.getCurrentThemeData().primary,0:"#414141"},black:{primary:"#151515",2:"#666",1:"#333",0:"#0A0A0A"},white:{primary:"#FFF",1:"#EEE",0:"#CCC"}},tt=l=>({palette:{mode:l,...l==="light"?{primary:{main:p.main[2]},text:{primary:p.black[0],secondary:p.black[2],tertiary:p.main[1]}}:{primary:{main:p.main[1]},background:{default:p.black[1],paper:p.black.primary},text:{primary:p.white[1],secondary:p.white[0],tertiary:p.main[1]}}},components:{MuiAppBar:{styleOverrides:{colorPrimary:{backgroundColor:p.main[2],color:p.white.primary}}},MuiInputLabel:{styleOverrides:{root:{color:l==="light"?p.black[1]:p.white[1]}}},MuiInputBase:{styleOverrides:{root:{input:{height:"auto"}}}},MuiFormControlLabel:{styleOverrides:{root:{color:l==="light"?p.black[1]:p.white[1]}}},MuiOutlinedInput:{styleOverrides:{root:{fieldset:{borderColor:l==="light"?p.black[1]:p.white[1]}}}},MuiToolbar:{styleOverrides:{root:{backgroundColor:`${l==="light"?p.main[2]:p.black.primary} !important`}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:`${l==="light"?p.white[0]:p.black[0]} !important`}}}},typography:{fontFamily:"HelveticaNeueLight, sans-serif",fontWeightRegular:400},overrides:{MuiTypography:{styleOverrides:{root:{letterSpacing:"0.05em"}}},MuiCssBaseline:{"@global":{"@font-face":{fontFamily:"HelveticaNeueLight",fontStyle:"normal",fontWeight:400,src:`
          local('HelveticaNeueLight'),
          url(./fonts/HelveticaNeue-Light.otf) format('opentype')
        `}}},MuiAccordion:{root:{"&$expanded":{margin:"auto"}}},MuiAccordionSummary:{content:{"&$expanded":{margin:"12px 0"}}},MuiAccordionDetails:{root:{padding:16}}}}),te=l=>Te(tt(l)),X={pageContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",gap:"100px"},form:{width:"100%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1rem"},teamSwitch:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"20px"}},D="#821C1E",j="#3f51b5",pe={scouterName:"",teamNum:0,intake:"",preferredAutoPos:"",canClimb:!1,FramePerimeter:0,weight:0,canGoUnderChain:!1,numBatteries:0,numBatteryChargers:0,ProgrammingLanguage:"",driveTrain:"",numMotors:0,motorType:"",image:"https://placehold.co/400x400?text=upload%20image",doLocktiteFalcons:!1},$={intake:["ground","station","both","none"],preferredAutoPos:["don't care","1","2","3"],ProgrammingLanguage:["Java","C++","LabVIEW","Python"],driveTrain:["West Coast Drive","Swerve Drive","2-Wheel Drive","4-Wheel Drive","Other 6-Wheel Drive","Car Drive","H-Drive","Holonomic Drive","Mecanum Drive","other"],motorType:["Talon-500 Motor","NEO motor","NEO 550 motor","Kraken Motor","Jaguar Motor","Venom Motor","Nidec Dynamo BLDC Motor","other"]},ge={uuid:me(),scouterName:"",color:"red",alliancePosition:1,teamNumber:NaN,matchNumber:NaN,autoTaxi:!1,autoAmp:0,autoSpeaker:0,autoMisses:0,teleopAmp:0,teleopSpeaker:0,teleopTrap:0,teleopClimb:"",broken:!1,spotlight:!1,notes:""},nt=15,ot=135,le="3bf14c94cacb7b7bf51ecc306f3dad088a839ec16a99bdec3e4f2bbf6831c544",rt="2024casd",xe=Ie(l=>e.jsx(Ae,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...l}))(({theme:l})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:D,opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:j,border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:l.palette.mode==="light"?l.palette.grey[100]:l.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:l.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:j,opacity:1,transition:l.transitions.create(["background-color"],{duration:500})}})),at={appNameContainer:{width:"100%",height:"auto",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"end",gap:"20px"}},J=({title:l,children:n,sx:a={},hover:t=""})=>e.jsxs("div",{style:at.appNameContainer,children:[e.jsx(z,{variant:"h1",title:t,sx:Object.assign({},{color:m.getCurrentThemeData().primary,fontFamily:"Lexend",fontWeight:"bold",textTransform:"uppercase",paddingTop:"0px",marginTop:"0px",fontSize:"4em"},a),children:l}),n]}),it="1v7rt_tRsWAKDxGMnfeCTZNCB9mOycKVb5izpzJTe07Y",st="AIzaSyCtpEW-xu38_uBirzfKie_rsGpfkhlaaiY",lt="test",ct="A2:O1000",ut=`https://sheets.googleapis.com/v4/spreadsheets/${it}/values/${lt}!${ct}?key=${st}`;let ce,Y;class dt{constructor(){if(ce)throw new Error("You can only create one instance!");ce=this}getInstance(){return this}updateSheetsJson(){fetch(ut).then(n=>n.json()).then(n=>Y=n.values).catch(()=>{console.log("Cannot request sheets data while offline")})}getSheetsRaw(){return Y}getInstancesByName(n){return Y?Y.filter(a=>a[0]===n).length:0}}const ae=Object.freeze(new dt),fe="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ",ht="https://www.thebluealliance.com/api/v3/team/frc",mt="https://www.thebluealliance.com/api/v3/team/frc{team}/media/"+new Date().getFullYear();async function pt(l){if(isNaN(parseFloat(l)))return"";try{return(await(await fetch(ht+l,{cache:"force-cache",headers:{"X-TBA-Auth-Key":fe}})).json()).nickname}catch{return console.log("You are offline or somebody screwed with cors."),""}}async function gt(l){if(isNaN(parseFloat(l)))return"";try{const a=await(await fetch(mt.replace("{team}",l),{cache:"force-cache",headers:{"X-TBA-Auth-Key":fe}})).json();if(a.length===0)return"";let t="";return a.forEach(r=>{r.type!=="instagram-image"&&(r.direct_url!==""&&(t=r.direct_url),{}.propertyIsEnumerable.call(r.details,"base64Image")&&(t="data:image/png;base64,"+r.details.base64Image))}),t}catch{return console.log("either this team doesn't exist or there is no internet"),""}}const xt=({url:l,width:n})=>e.jsx("img",{src:l,width:n}),ft="H19M5A4ypIJMbzipmH6lZt0U38K5XihV9m6PpQi5cq2VRuUp84omcFbc3iRPDDiQ";let ue;const bt=`https://www.thebluealliance.com/api/v3/event/${rt}/matches`;let k=[];class yt{constructor(){if(ue)throw new Error("You can only create one instance!");ue=this}getInstance(){return this}getData(){return k}getDataByMatch(n){for(let a=0;a<k.length;a++)if(k[a].match_number===n)return k[a]}getDataByTeamNumber(n){var t,r;const a=[];for(let c=0;c<k.length;c++)return k[c].alliances&&((t=k[c].alliances)!=null&&t.blue.team_keys.includes(`frc${n}`)||(r=k[c].alliances)!=null&&r.blue.team_keys.includes(`frc${n}`))&&a.push(k[c]),a}updateJSON(){fetch(bt,{headers:{"X-TBA-Auth-Key":ft}}).then(n=>n.json()).then(n=>{const a=[];for(let t=0;t<n.length;t++){const r=n[t];a.push(r)}k=a})}}const re=Object.freeze(new yt),Ct=l=>{const n=l.scoutingSetterGetter[1],[a,t]=g.useState(""),[r,c]=g.useState(""),i=l.scoutingSetterGetter[0],h=()=>{const d=re.getDataByMatch(i.matchNumber),b=i.color,K=i.alliancePosition-1;if(!(d!=null&&d.alliances))return;const W=d==null?void 0:d.alliances[b].team_keys[K],V=structuredClone(i);V.teamNumber=parseInt(W.replace("frc","")),n(V)};g.useEffect(()=>{h()},[i.matchNumber,i.alliancePosition,i.color]),g.useEffect(()=>{async function d(){t(await pt(i.teamNumber))}async function b(){isNaN(i.teamNumber)||c(await gt(i.teamNumber))}c(""),d(),b()},[i.teamNumber]);const s=l.navigation;function o(){return i.color==="red"?D:j}function u(d){return i.alliancePosition==d?"contained":"outlined"}function f(d){return u(d)=="contained"?{backgroundColor:o(),borderColor:o(),"&:hover":{backgroundColor:o(),borderColor:o()},"&:active":{backgroundColor:o(),borderColor:o()}}:{color:o(),borderColor:o(),"&:hover":{backgroundColor:o(),borderColor:o()},"&:active":{backgroundColor:o(),borderColor:o()}}}const C=()=>{const d=structuredClone(i);d.color==="red"?d.color="blue":d.color="red",n(d)};return e.jsxs("div",{style:X.pageContainer,children:[e.jsx(J,{title:"Falcon",children:e.jsx(z,{variant:"h2",sx:{color:"#CA3E47",fontFamily:"Montserrat-Normal",fontWeight:"bold",position:"absolute",top:"1em",left:"50%"},children:"Scouting"})}),e.jsxs("div",{style:X.form,children:[e.jsx(Me,{badgeContent:ae.getInstancesByName(i.scouterName),color:"primary",children:e.jsx(x,{label:"Scout Name",variant:"filled",onChange:d=>{const b=structuredClone(i);b.scouterName=d.target.value,n(b)},value:i.scouterName})}),e.jsx(x,{label:"Team Number",variant:"filled",type:"number",helperText:a,value:Number.isNaN(i.teamNumber)?"":i.teamNumber,onChange:d=>{const b=structuredClone(i);b.teamNumber=parseInt(d.target.value),n(b)}}),e.jsx(xt,{url:r,width:128,height:128}),e.jsx(x,{label:"Match Number",variant:"filled",type:"number",value:Number.isNaN(i.matchNumber)?"":i.matchNumber,onChange:d=>{const b=structuredClone(i);b.matchNumber=parseInt(d.target.value),n(b)}}),e.jsxs("div",{style:X.teamSwitch,children:[e.jsx(z,{variant:"body1",sx:{color:o(),fontFamily:"Montserrat-Normal",fontWeight:"bold"},children:"Team Color"}),e.jsx(xe,{checked:i.color==="red",onChange:C})]}),e.jsxs(he,{sx:{outlineColor:o()},children:[e.jsx(w,{sx:f(1),variant:u(1),onClick:()=>{const d=structuredClone(i);d.alliancePosition=1,n(d)},children:"One"}),e.jsx(w,{sx:f(2),variant:u(2),onClick:()=>{const d=structuredClone(i);d.alliancePosition=2,n(d)},children:"Two"}),e.jsx(w,{sx:f(3),variant:u(3),onClick:()=>{const d=structuredClone(i);d.alliancePosition=3,n(d)},children:"Three"})]}),e.jsx(w,{color:"success",variant:"contained",onClick:()=>{s(2)},children:"Submit"})]})]})},L=({children:l,...n})=>{const a={height:"100%",width:"100%",background:m.getCurrentThemeData().secondary,"&:hover":{backgroundColor:m.getCurrentThemeData().secondary,borderColor:m.getCurrentThemeData().secondary},"&:active":{backgroundColor:m.getCurrentThemeData().secondary,borderColor:m.getCurrentThemeData().secondary},fontFamily:"Lexend",fontSize:"4.25em",fontWeight:"bold",color:"white",position:"relative"};return e.jsxs(w,{sx:a,...n,children:[l,e.jsx("div",{style:{position:"absolute",bottom:"0px",right:"0px",fontSize:"15px",marginRight:"15px"},children:n.minitext})]})},be=({duration:l,color:n,onFinish:a,title:t})=>{const r=o=>{const u=Math.floor(o/60),f=Math.floor(o-u*60);return`${("0"+u).slice(-2)}:${("0"+f).slice(-2)}`};let c=l,i=o=>{};[c,i]=g.useState(l);const[h,s]=g.useState(Date.now());return g.useEffect(()=>{c<=0&&a();const o=c>0&&setInterval(()=>{i(c-(Date.now()-h)/1e3),s(Date.now())},10);return()=>clearInterval(typeof o=="number"?o:0)},[c,a,h]),e.jsx(J,{title:t,hover:r(c),sx:{backgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:`linear-gradient(to right, ${m.getCurrentThemeData().secondary} 0%,${m.getCurrentThemeData().secondary} ${c/l*100}%,${n} ${c/l*100}%,${n} 100%)`}})},ne={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},vt=l=>{const n=l.navigation,a=l.scoutingSetterGetter[1],t=l.scoutingSetterGetter[0];return e.jsxs(G,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(be,{title:"Auto",color:"green",duration:nt,onFinish:()=>{n(3)}}),e.jsxs("div",{style:ne.buttonsContainer,children:[e.jsxs("div",{style:ne.buttonRowContainer,children:[e.jsx(L,{children:"TAXI"}),e.jsx(L,{onClick:()=>{const r=structuredClone(t);r.autoAmp++,a(r)},minitext:t.autoAmp,children:"AMP"})]}),e.jsxs("div",{style:ne.buttonRowContainer,children:[e.jsx(L,{onClick:()=>{const r=structuredClone(t);r.autoSpeaker++,a(r)},minitext:t.autoSpeaker,children:"SPEAKER"}),e.jsx(L,{onClick:()=>{const r=structuredClone(t);r.autoMisses++,a(r)},minitext:t.autoMisses,children:"MISS"})]})]})]})},jt=({children:l,...n})=>{var i;const a=n.scouterSetter;let t=[!1,!0];typeof n.scouterData=="string"&&(t=["","park","onstage","harmony"]);const[r,c]=g.useState(t.indexOf(n.start)??0);return e.jsx(L,{minitext:(i=t[r])==null?void 0:i.toString(),onClick:()=>{c(()=>(r+1)%t.length),console.log(r),a(t[(r+1)%t.length])},children:l})},oe={buttonsContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"50px"},buttonRowContainer:{paddingLeft:"100px",paddingRight:"100px",width:"100%",height:"30%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"50px"}},wt=l=>{const n=l.navigation,a=l.scoutingSetterGetter[1],t=l.scoutingSetterGetter[0];return e.jsxs(G,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(be,{title:"Teleop",color:"green",duration:ot,onFinish:()=>{n(4)}}),e.jsxs("div",{style:oe.buttonsContainer,children:[e.jsxs("div",{style:oe.buttonRowContainer,children:[e.jsx(L,{onClick:()=>{const r=structuredClone(t);r.teleopAmp++,a(r)},minitext:t.teleopAmp,children:"AMP"}),e.jsx(L,{onClick:()=>{const r=structuredClone(t);r.teleopSpeaker++,a(r)},minitext:t.teleopSpeaker,children:"SPEAKER"})]}),e.jsxs("div",{style:oe.buttonRowContainer,children:[e.jsx(L,{onClick:()=>{const r=structuredClone(t);r.teleopTrap++,a(r)},minitext:t.teleopTrap,children:"TRAP"}),e.jsx(jt,{scouterData:t.teleopClimb,scouterSetter:r=>{const c=structuredClone(t);(r===""||r==="park"||r==="onstage"||r==="harmony")&&(c.teleopClimb=r,a(c))},start:t.teleopClimb,children:"CLIMB"})]})]})]})};async function ye(){try{return await fetch("https://google.com",{mode:"no-cors"}),!0}catch{return!1}}const F=class F{constructor(){q(this,"db",null)}static getInstance(){return F.instance||(F.instance=new F),F.instance}async openDatabase(n,a,t,r){return new Promise((c,i)=>{const h=indexedDB.open(n,a);h.onerror=()=>{i(new Error("Failed to open IndexedDB"))},h.onsuccess=()=>{this.db=h.result,c()},h.onupgradeneeded=s=>{const o=s.target.result;o.objectStoreNames.contains(t)||o.createObjectStore(t,{keyPath:r})}})}async addData(n,a){return new Promise((t,r)=>{if(!this.db){r(new Error("Database is not open"));return}const h=this.db.transaction([n],"readwrite").objectStore(n).add(a);h.onerror=s=>{console.log(s),r(new Error("Failed to add data to IndexedDB: "))},h.onsuccess=()=>{t()}})}async readAllData(n){return new Promise((a,t)=>{if(!this.db){t(new Error("Database is not open"));return}const i=this.db.transaction([n],"readonly").objectStore(n).getAll();i.onerror=()=>{t(new Error("Failed to read data from IndexedDB"))},i.onsuccess=()=>{const h=i.result;a(h)}})}async deleteAllData(n){return new Promise((a,t)=>{if(!this.db){t(new Error("Database is not open"));return}const i=this.db.transaction([n],"readwrite").objectStore(n).clear();i.onerror=()=>{t(new Error("Failed to delete data from IndexedDB"))},i.onsuccess=()=>{a()}})}};q(F,"instance");let U=F;const St=l=>{const n=l.navigation,a=l.scoutingSetterGetter[1],t=l.scoutingSetterGetter[0],r={outline:{".MuiOutlinedInput-notchedOutline":{borderColor:t.color==="red"?D:j},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.color==="red"?D:j,borderWidth:"0.15rem"},span:{color:t.color==="red"?D:j},legend:{color:t.color==="red"?D:j}}};function c(){return t.color==="red"?D:j}function i(o){return t.alliancePosition==o?"contained":"outlined"}function h(o){return i(o)=="contained"?{backgroundColor:c(),borderColor:c(),"&:hover":{backgroundColor:c(),borderColor:c()},"&:active":{backgroundColor:c(),borderColor:c()}}:{color:c(),borderColor:c(),"&:hover":{backgroundColor:c(),borderColor:c()},"&:active":{backgroundColor:c(),borderColor:c()}}}const s=()=>{const o=structuredClone(t);o.color==="red"?o.color="blue":o.color="red",a(o)};return e.jsxs(e.Fragment,{children:[e.jsx(J,{title:"Edits"}),e.jsx("div",{id:"end-1",children:e.jsxs("div",{id:"edit-container",style:X.form,children:[e.jsxs(A,{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:[e.jsx(z,{variant:"body1",sx:{color:t.color==="red"?D:j,fontFamily:"Montserrat-Normal",fontWeight:"bold",textAlign:"center",width:"100%",marginBottom:"25px"},children:"Recap"}),e.jsx(x,{id:"autoAmp",label:"Auto Amp",sx:r.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(t.autoAmp)?"":t.autoAmp,onChange:o=>{const u=structuredClone(t);u.autoAmp=parseInt(o.target.value),a(u)}}),e.jsx(x,{id:"autoSpeaker",label:"Auto Speaker",sx:r.outline,style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(t.autoSpeaker)?"":t.autoSpeaker,onChange:o=>{const u=structuredClone(t);u.autoSpeaker=parseInt(o.target.value),a(u)}}),e.jsx(x,{id:"autoMisses",label:"Auto Misses",sx:r.outline,style:{marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(t.autoMisses)?"":t.autoMisses,onChange:o=>{const u=structuredClone(t);u.autoMisses=parseInt(o.target.value),a(u)}}),e.jsx(x,{id:"teleop Amp",label:"Teleop Amp",sx:r.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(t.teleopAmp)?"":t.teleopAmp,onChange:o=>{const u=structuredClone(t);u.teleopAmp=parseInt(o.target.value),a(u)}}),e.jsx(x,{id:"teleopSpeaker",label:"Teleop Speaker",sx:r.outline,style:{marginLeft:"10px",marginRight:"10px",width:"calc(100% / 8)"},value:Number.isNaN(t.teleopSpeaker)?"":t.teleopSpeaker,onChange:o=>{const u=structuredClone(t);u.teleopSpeaker=parseInt(o.target.value),a(u)}}),e.jsx(x,{id:"teleopTrap",label:"Teleop Trap",sx:r.outline,style:{width:"calc(100% / 8)"},value:Number.isNaN(t.teleopTrap)?"":t.teleopTrap,onChange:o=>{const u=structuredClone(t);u.teleopTrap=parseInt(o.target.value),a(u)}}),e.jsxs(O,{sx:{width:"calc(100% / 8)",marginLeft:"10px"},children:[e.jsx(v,{id:"climbs",children:"Climb"}),e.jsxs(E,{label:"climb",labelId:"climbs",value:t.teleopClimb,sx:r.outline,onChange:o=>{const u=structuredClone(t);console.log(o.target.value),u.teleopClimb=o.target.value,a(u)},children:[e.jsx(M,{value:"",children:"None"}),e.jsx(M,{value:"park",children:"park"}),e.jsx(M,{value:"onstage",children:"onstage"}),e.jsx(M,{value:"harmony",children:"harmony"})]})]})]}),e.jsxs(A,{style:{display:"flex",flexDirection:"row"},children:[e.jsxs(A,{style:{marginRight:"20px"},children:[e.jsx(v,{id:"spotlight",children:"Spotlight?"}),e.jsxs(_,{"aria-labelledby":"spotlight",value:t.spotlight,children:[e.jsx(N,{value:"true",control:e.jsx(T,{sx:r.outline,onChange:()=>{const o=structuredClone(t);o.spotlight=!0,a(o)}}),label:"yes",checked:t.spotlight===!0}),e.jsx(N,{value:"false",control:e.jsx(T,{sx:r.outline,onChange:()=>{const o=structuredClone(t);o.spotlight=!1,a(o)}}),label:"no",checked:t.spotlight===!1})]})]}),e.jsxs(A,{children:[e.jsx(v,{id:"oof",children:"OOF?"}),e.jsxs(_,{"aria-labelledby":"oof",value:t.broken,children:[e.jsx(N,{value:"true",control:e.jsx(T,{sx:r.outline,onChange:()=>{const o=structuredClone(t);o.broken=!0,a(o)}}),label:"yes",checked:t.broken===!0}),e.jsx(N,{value:"false",control:e.jsx(T,{sx:r.outline,onChange:()=>{const o=structuredClone(t);o.broken=!1,a(o)}}),label:"no",checked:t.broken===!1})]})]})]}),e.jsxs(A,{style:{display:"flex",flexDirection:"row"},children:[e.jsx(x,{id:"scoutname",label:"Scout Name",sx:r.outline,onChange:o=>{const u=structuredClone(t);u.scouterName=o.target.value,a(u)},value:t.scouterName}),e.jsx(x,{id:"teamnum",label:"Team Number",sx:r.outline,style:{marginLeft:"10px",marginRight:"10px"},value:Number.isNaN(t.teamNumber)?"":t.teamNumber,onChange:o=>{const u=structuredClone(t);u.teamNumber=parseInt(o.target.value),a(u)}}),e.jsx(x,{id:"matchnum",label:"Match Number",sx:r.outline,value:Number.isNaN(t.matchNumber)?"":t.matchNumber,onChange:o=>{const u=structuredClone(t);u.matchNumber=parseInt(o.target.value),a(u)}})]}),e.jsxs(O,{sx:{display:"flex",width:"100%",margin:"auto",flexDirection:"row",justifyContent:"center"},children:[e.jsx(z,{variant:"body1",sx:{color:t.color==="red"?D:j,fontFamily:"Montserrat-Normal",fontWeight:"bold",width:"150px"},children:"Team Color"}),e.jsx(xe,{checked:t.color==="red",onChange:s})]}),e.jsxs(he,{sx:{outlineColor:c()},children:[e.jsx(w,{sx:h(1),variant:i(1),onClick:()=>{const o=structuredClone(t);o.alliancePosition=1,a(o)},children:"One"}),e.jsx(w,{sx:h(2),variant:i(2),onClick:()=>{const o=structuredClone(t);o.alliancePosition=2,a(o)},children:"Two"}),e.jsx(w,{sx:h(3),variant:i(3),onClick:()=>{const o=structuredClone(t);o.alliancePosition=3,a(o)},children:"Three"})]}),e.jsx(Pe,{placeholder:"notes",onChange:o=>{const u=structuredClone(t);u.notes=o.target.value,a(u)},style:{borderColor:t.color==="red"?D:j,color:m.getCurrentThemeData().primary,backgroundColor:(localStorage.getItem("theme")||"dark")==="dark"?"#333":"white"}}),e.jsx(w,{color:"success",variant:"contained",onClick:()=>{const o=structuredClone(t);o.broken=o.broken?"yes":"no",o.spotlight=o.spotlight?"yes":"no",console.log(JSON.stringify(t)),fetch("https://sheet.best/api/sheets/76133569-fb7d-4d64-b8ba-7fb3c94d0d6b",{method:"POST",body:JSON.stringify(o),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(u=>u.json()).then(async()=>{if(await ye()){ae.updateSheetsJson();const f=structuredClone(ge);f.scouterName=o.scouterName,f.matchNumber=o.matchNumber+1,f.uuid=me(),a(f),l.alert("Yay! We got your data saved."),n(1)}else{const f=U.getInstance();f.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>f.addData("OfflineScouterDataQueue",t))}}).catch(()=>{const u=U.getInstance();u.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>u.addData("OfflineScouterDataQueue",t))})},children:"Submit"})]})})]})},kt=l=>{const n=l.navigation;g.useEffect(()=>{localStorage.getItem("auth_code")===le&&n(1)});const a=t=>crypto.subtle.digest("SHA-256",new TextEncoder().encode(t)).then(r=>{const c=[],i=new DataView(r);for(let h=0;h<i.byteLength;h+=4)c.push(("00000000"+i.getUint32(h).toString(16)).slice(-8));return c.join("")});return e.jsxs(G,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[e.jsx(J,{title:"What is the air-speed velocity of an unladen swallow?",sx:{fontSize:"1.5em",width:"50%",textAlign:"center"}}),e.jsx(x,{onChange:async t=>{const r=await a(t.target.value);r===le&&(localStorage.setItem("auth_code",r),n(1))}})]})},Dt="1T0r4rTsnIPlWtj0mrjuvxVZGuy0plos_",Nt="AIzaSyCtpEW-xu38_uBirzfKie_rsGpfkhlaaiY",Tt=`https://www.googleapis.com/drive/v3/files?q='${Dt}'+in+parents&key=${Nt}`,It=new He({publicKey:"public_sjGSBBstq6tqeZwNnTDDaMwawW4=",privateKey:"private_dzG/Ko9cGOwJ8EVWkYsqQdCioTM=",urlEndpoint:"https://ik.imagekit.io/vavanu9av/"});let de,Q;class At{constructor(){if(de)throw new Error("You can only create one instance!");de=this}getInstance(){return this}uploadFile(n,a,t){return new Promise((r,c)=>{It.upload({file:n,fileName:`${new Date().getTime()}-${a}.${t.split("/")[1]}`,useUniqueFileName:!1},(i,h)=>{i&&c(i),h&&r(h.url)})})}updateFilesJson(){fetch(Tt).then(n=>n.json()).then(n=>{Q=n.files}).catch(()=>{console.log("Cannot request sheets data while offline")})}getFilesRaw(){return Q}getInstancesByTeamNumber(n){if(!Q)return[];const a=RegExp(`${n}[.png|.jpg|.jpeg]`);return Q.filter(t=>a.test(t.name))}}const Ce=Object.freeze(new At),Mt=l=>{const[n,a]=l.pitSetterGetter,t=l.alert;function r(s,o){const u={...n};u[s]=o,a(u)}function c(s,o){const u={...n};u[s]=o,a(u)}function i(s,o){const u={...n};u[s]=o,a(u)}function h(s){return Number.isNaN(n[s])?"":n[s]}return e.jsxs(G,{sx:{width:"100%",display:"flex",flexDirection:window.innerWidth<1e3?"column":"row",flexWrap:"wrap",paddingTop:"50px"},children:[e.jsx(J,{title:"Pit Scouting",sx:{fontSize:"1.5em",width:"100%",textAlign:"center"}}),e.jsxs("div",{id:"column-1",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(x,{id:"scoutername",label:"Name",onChange:s=>{r("scouterName",s.target.value)},value:n.scouterName}),e.jsx(x,{id:"teamNumber",label:"Team Number",onChange:s=>{c("teamNum",parseInt(s.target.value))},value:h("teamNum")}),e.jsxs(O,{children:[e.jsx(v,{id:"intake",children:"Intake"}),e.jsx(E,{label:"intake",labelId:"intake",value:n.intake,onChange:s=>r("intake",s.target.value),children:$.intake.map(s=>e.jsx(M,{value:s,children:s},s))})]}),e.jsxs(O,{children:[e.jsx(v,{id:"autoPos",children:"Preferred Auto Position"}),e.jsx(E,{label:"autoPos",labelId:"autoPos",value:n.preferredAutoPos,onChange:s=>r("preferredAutoPos",s.target.value),children:$.preferredAutoPos.map(s=>e.jsx(M,{value:s,children:s},s))})]})]}),e.jsxs("div",{id:"column-2",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsxs(A,{children:[e.jsx(v,{id:"canclimb",children:"Can Climb?"}),e.jsxs(_,{"aria-labelledby":"canclimb",value:n.canClimb,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(N,{value:"true",control:e.jsx(T,{onChange:()=>i("canClimb",!0)}),label:"yes",checked:n.canClimb===!0}),e.jsx(N,{value:"false",control:e.jsx(T,{onChange:()=>{i("canClimb",!1)}}),label:"no",checked:n.canClimb===!1})]})]}),e.jsx(x,{id:"FramePerimeter",label:"Frame Perimeter",onChange:s=>{c("FramePerimeter",parseInt(s.target.value))},value:h("FramePerimeter")}),e.jsx(x,{id:"weight",label:"weight",onChange:s=>{c("weight",parseInt(s.target.value))},value:h("weight")}),e.jsxs(A,{children:[e.jsx(v,{id:"canGoUnderChain",children:"Can go under chain?"}),e.jsxs(_,{"aria-labelledby":"canGoUnderChain",value:n.canGoUnderChain,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(N,{value:"true",control:e.jsx(T,{onChange:()=>i("canGoUnderChain",!0)}),label:"yes",checked:n.canGoUnderChain===!0}),e.jsx(N,{value:"false",control:e.jsx(T,{onChange:()=>{i("canClimb",!1)}}),label:"no",checked:n.canGoUnderChain===!1})]})]})]}),e.jsxs("div",{id:"column-3",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(x,{id:"numBatteries",label:"Number of Batteries",onChange:s=>{c("numBatteries",parseInt(s.target.value))},value:h("numBatteries")}),e.jsx(x,{id:"numBatteryChargers",label:"Number of Battery Chargers",onChange:s=>{c("numBatteryChargers",parseInt(s.target.value))},value:h("numBatteryChargers")}),e.jsxs(O,{children:[e.jsx(v,{id:"ProgrammingLanguage",children:"Programming Language"}),e.jsx(E,{label:"ProgrammingLanguage",labelId:"ProgrammingLanguage",value:n.ProgrammingLanguage,onChange:s=>r("ProgrammingLanguage",s.target.value),children:$.ProgrammingLanguage.map(s=>e.jsx(M,{value:s,children:s},s))})]}),e.jsxs(O,{children:[e.jsx(v,{id:"driveTrain",children:"Drive Train"}),e.jsx(E,{label:"driveTrain",labelId:"driveTrain",value:n.driveTrain,onChange:s=>r("driveTrain",s.target.value),children:$.driveTrain.map(s=>e.jsx(M,{value:s,children:s},s))})]})]}),e.jsxs("div",{id:"column-4",style:{display:"flex",flexDirection:"column",width:window.innerWidth<1e3?"100%":"25%",flexWrap:"wrap",padding:"10px",rowGap:"15px"},children:[e.jsx(x,{id:"numMotors",label:"Number of Motors",onChange:s=>{c("numMotors",parseInt(s.target.value))},value:h("numMotors")}),e.jsxs(O,{children:[e.jsx(v,{id:"motorType",children:"Drivetrain Motor Type"}),e.jsx(E,{label:"motorType",labelId:"motorType",value:n.motorType,onChange:s=>r("motorType",s.target.value),children:$.motorType.map(s=>e.jsx(M,{value:s,children:s},s))})]}),e.jsxs(A,{children:[e.jsx(v,{id:"doLocktiteFalcons",children:"Do Falcons have Loctite?"}),e.jsxs(_,{"aria-labelledby":"doLocktiteFalcons",value:n.doLocktiteFalcons,sx:{display:"flex",flexDirection:"row"},children:[e.jsx(N,{value:"true",control:e.jsx(T,{onChange:()=>i("doLocktiteFalcons",!0)}),label:"yes",checked:n.doLocktiteFalcons===!0}),e.jsx(N,{value:"false",control:e.jsx(T,{onChange:()=>{i("doLocktiteFalcons",!1)}}),label:"no",checked:n.doLocktiteFalcons===!1})]})]}),e.jsxs(A,{children:[e.jsx("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file",onChange:s=>{if(!s.target.files||s.target.files.length===0)return;const o=new FileReader;o.readAsDataURL(s.target.files[0]),o.onload=u=>{var f,C,d;((f=s.target)==null?void 0:f.files)!==null&&Ce.uploadFile((C=u.target)==null?void 0:C.result,n.teamNum,(d=s.target)==null?void 0:d.files[0].type).then(b=>{r("image",b)})}}}),e.jsx("label",{htmlFor:"raised-button-file",children:e.jsx(w,{variant:"contained",component:"span",sx:{color:(localStorage.getItem("theme")??"dark")==="light"?"black":"white"},children:"Upload robot photo"})}),e.jsx("img",{src:n.image,style:{width:"64px"}})]})]}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(w,{color:"success",variant:"contained",onClick:()=>{const s=structuredClone(n);fetch("https://sheet.best/api/sheets/396b5d53-86c4-4429-ab8e-4bed48cedbb0",{method:"POST",body:JSON.stringify(s),mode:"cors",headers:{"Content-Type":"application/json"},cache:"no-store"}).then(o=>o.json()).then(()=>{t("You submitted a pit scouting report");const o=structuredClone(pe);o.scouterName=s.scouterName,a(o)})},children:"Submit"})})]})},P={0:"/",1:"/info",2:"/auto",3:"/teleop",4:"/endscreen1",6:"/pit-scouting"};function Pt(){const[l,n]=g.useState(!1),[a,t]=g.useState(""),[r,c]=g.useState(!1),[i,h]=g.useState(te(localStorage.getItem("theme")??"dark")),[s,o]=g.useState(m.themesList.indexOf(localStorage.getItem("customtheme")??"none"));m.setThemeId(localStorage.getItem("customtheme")??"none");const[u,f]=g.useState(1),[C,d]=g.useState(ge),[b,K]=g.useState(pe),W=U.getInstance(),V=qe();async function ie(){if(l)return;n(!0),S("You are now online"),await ye()?W.openDatabase("OfflineDataStorage",1,"OfflineScouterDataQueue","uuid").then(()=>{console.log("called"),W.readAllData("OfflineScouterDataQueue").then(H=>{H.length!==0&&(console.log(H),fetch("https://sheet.best/api/sheets/76133569-fb7d-4d64-b8ba-7fb3c94d0d6b",{method:"POST",body:JSON.stringify(H),headers:{"Content-Type":"application/json"},cache:"no-store"}).then(()=>{S(`Uploaded ${H.length} matches that were saved offline`),W.deleteAllData("OfflineScouterDataQueue")}))})}):(n(!1),S("You think you are online, but you are not connected to the internet"))}function Z(){S("You are now offline (data will be saved locally until you reconnect)"),n(!1)}g.useEffect(()=>{const y=()=>{re.updateJSON(),window.removeEventListener("load",y,!0),n(navigator.onLine),navigator.onLine||Z(),window.addEventListener("online",ie),window.addEventListener("offline",Z)};window.addEventListener("load",y,{once:!0})},[ie,Z]),g.useEffect(()=>{Ce.updateFilesJson(),ae.updateSheetsJson()},[]),g.useEffect(()=>{re.updateJSON()},[C.matchNumber]);const ve=()=>{o((s+1)%m.themesList.length),m.setThemeId(m.themesList[(s+1)%m.themesList.length]),localStorage.setItem("customtheme",m.themesList[(s+1)%m.themesList.length])},je=()=>{const y=i.palette.mode==="dark"?te("light"):te("dark");h(y),localStorage.setItem("theme",y.palette.mode)},I=y=>{P[y]&&(f(y),V(P[y],{replace:!0}))},we=()=>{c(!1)},S=y=>{c(!0),t(y)};return e.jsx(e.Fragment,{children:e.jsx(G,{sx:{width:"100vw",height:"100vh"},children:e.jsx(Le,{children:e.jsx(Oe,{theme:i,children:e.jsxs(G,{sx:{width:"100%",height:"100%",backgroundColor:y=>y.palette.mode==="light"?y.palette.grey[100]:y.palette.grey[900]},children:[e.jsx(B,{style:{color:m.getCurrentThemeData().primary},sx:{position:"fixed",top:"0px",left:"0px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px"},onClick:()=>{I(1)},children:e.jsx(Fe,{})}),e.jsxs(Ye,{children:[e.jsx(R,{path:P[0],element:e.jsx(kt,{navigation:I,scoutingSetterGetter:[C,d],alert:S})}),e.jsx(R,{path:P[1],element:e.jsx(Ct,{navigation:I,scoutingSetterGetter:[C,d],alert:S})}),e.jsx(R,{path:P[2],element:e.jsx(vt,{navigation:I,scoutingSetterGetter:[C,d],alert:S})}),e.jsx(R,{path:P[3],element:e.jsx(wt,{navigation:I,scoutingSetterGetter:[C,d],alert:S})}),e.jsx(R,{path:P[4],element:e.jsx(St,{navigation:I,scoutingSetterGetter:[C,d],alert:S})}),e.jsx(R,{path:P[6],element:e.jsx(Mt,{pitSetterGetter:[b,K],alert:S})})]}),e.jsx("div",{id:"notifications",children:e.jsx(Be,{open:r,autoHideDuration:1e4,onClose:we,children:e.jsx(Re,{message:a,sx:{backgroundColor:i.palette.mode==="light"?i.palette.grey[100]:i.palette.grey[900],color:i.palette.mode==="light"?i.palette.grey[900]:i.palette.grey[100]}})})}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",left:"20px"},children:[e.jsx(B,{"aria-label":"delete",onClick:ve,title:"theme selector",style:{color:m.getCurrentThemeData().primary},children:m.getThemeId()==="none"?e.jsx(Ee,{}):m.getThemeId()==="alpine"?e.jsx(Ge,{}):m.getThemeId()==="ocean"?e.jsx(We,{}):m.getThemeId()==="desert"?e.jsx($e,{}):m.getThemeId()==="lavender"?e.jsx(_e,{}):""}),e.jsx(B,{"aria-label":"delete",onClick:je,title:"dark mode",style:{color:m.getCurrentThemeData().primary},children:i.palette.mode==="dark"?e.jsx(ze,{}):e.jsx(Ue,{})}),e.jsx(B,{style:{color:m.getCurrentThemeData().primary},onClick:()=>{I(6)},title:"Pit Scouting",children:e.jsx(Je,{})})]}),e.jsxs("div",{id:"themeToggle",style:{position:"fixed",bottom:"20px",right:"20px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px"},children:[e.jsx(B,{style:{color:m.getCurrentThemeData().primary},onClick:()=>{I(u-1)},children:e.jsx(Ke,{})}),e.jsx(B,{style:{color:m.getCurrentThemeData().primary},onClick:()=>{I(u+1)},children:e.jsx(Ve,{})})]})]})})})})})}Ne.createRoot(document.getElementById("root")).render(e.jsx(De.StrictMode,{children:e.jsx(Qe,{children:e.jsx(Pt,{})})}));
